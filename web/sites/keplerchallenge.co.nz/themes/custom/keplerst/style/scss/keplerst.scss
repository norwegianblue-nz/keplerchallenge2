@import "keplerst_mixins", "keplerst-style-vars", "keplerst-default-style-vars", "keplerstgs";
////////////////////////////////////////////////////////////////////////////////
//
// Sandpit
//
////////////////////////////////////////////////////////////////////////////////
#title-bar-wrapper {
	background-color: rgba(0,0,0,0.5);
	position: fixed;
	height: 3rem;
	width: 100%;
	box-shadow: 0px 15px 30px 13px rgba(0,0,0,0.7);
  -webkit-box-shadow: 0px 15px 30px 13px rgba(0,0,0,0.7);
  -moz-box-shadow: 0px 15px 30px 13px rgba(0,0,0,0.7);

}

#teaser-layout{
    position:relative;
    height: 100%;
}

.region--teaser {
    position:absolute !important;
    background-color: $keplerst_DarkBlue;
    text-align: center;
    bottom: 0;
}
.region--teaser p{color:white;}

#preface1-outer-wrapper{
    background-color: $keplerst_DarkBlue;
}
#preface1-outer-wrapper p{color:white;}

// tmd sandy-pit
.btn {
   width: 100%;
   background:$keplerst_DarkTeal;
   display: block;
   margin: 1em 0;
   padding: 0.5em;
   @include keplerstCorners (3px);
   text-align: center;
   @include keplerst_ubuntu-medium ($keplerst_Tan1, 1.1em);
   max-width: 260px;
   border:none;
}
.btn-lrg {
    padding: 1em 0.5em;
}

#block-tmdsocialiconspage-2 {text-align: center;} // tmd - icons at top of pages

figure {margin:0.9rem 3rem 0 0px;} // In-line image and caption style

#footer-header-outer-wrapper {background-color: $keplerst_DarkTeal;text-align: center;}
#footer-header-outer-wrapper #block-tmdsocialiconspage {margin: 2rem 0 1.7rem;}
#footer-header-outer-wrapper #social-icon-wrapper {
    display: inline-table;
    white-space: nowrap;
    &:before, &:after {
      border-top: 1px solid white;
      content: '';
      display: table-cell;
      position: relative;
      top: 1.5em;
      width: 13%;
    }
    &:before { right: 1em; }
    &:after { left: 1em; }
}
@media all and (min-width: 480px) and (max-width: 599px) {#footer-header-outer-wrapper #social-icon-wrapper {&:before, &:after {width:25%;}}}
@media all and (min-width: 600px) and (max-width: 839px) {#footer-header-outer-wrapper #social-icon-wrapper {&:before, &:after {width:31%;}}}
@media all and (min-width: 840px) {#footer-header-outer-wrapper #social-icon-wrapper {&:before, &:after {width:33%;}}}

a.social-icon {padding: 0 0.5rem;}

// footer layout >>>>
@media all and (min-width: 600px) {
  #block-tmdfooteraccountlogin {float: left;width: 49%;}
  #block-tmdnewslettersignup, #block-tmdfooteraddressblock {float: right;clear: right;width: 49%;}
}
@media all and (min-width: 840px) {
  #mc-embedded-subscribe-form, .footer-col-wrapper {display: flex;}
  .footer-col-right {width:35%; padding-left:10px;}
  .footer-col-left {width: 65%; padding-right:10px;}
  #block-tmdfooteraccountlogin .btn, #block-tmdnewslettersignup .btn, #block-tmdfooteraddressblock .btn {&:first-of-type{margin-top: 0;}}
}

// Mail chimp signup form - footer >>>>>>
#mce-EMAIL {
	width: 100%;
	height: 3.1rem;
  @include keplerstCorners (3px);
  @include keplerst_ubuntu-light (#000, 1.3em);
  padding: 0 0 0 0.6em;
  border: 1px solid #000;
  background-color: rgba(255, 255, 255, 0.05);
}
#mce-EMAIL {&:hover, &:focus{background-color: rgba(255, 255, 255, 0.5);}}

// TMD / NWB sign-off text >>>>>>>>>>>
#block-thelastword p {
  @include keplerst_ubuntu-light (#888, 0.8em);
	line-height: 1.1em;
	margin: 0.6em 0 0.7em;
}


// Main navigation >>>>>>>>>>>>>>>>> SAND PIT >>> move when complete
#menu-outer-wrapper {background-color: $keplerst_DarkTeal;}

// tmd - temp >>>> talk to Roo about responsive img sizes and layout.
.region--postscript-fourth.region.region-postscript-fourth {
	display: flex;
	justify-content: space-between;
}

// -/tmd sandy pit ends

/* End of Sandpit */

// Fixed bg images
.nb_fixed-bg {
    min-height: 85vh;
    background-position: 50% bottom;
    background-repeat: no-repeat;
    background-size: cover;
    background-color:#333;
}
@media all and (min-width: 0px) {.nb_fixed-bg{}}
@media all and (min-width: 480px) and (max-width: 767px) {.nb_fixed-bg{}}
@media all and (min-width: 768px) /*and (max-width: 1023px)*/ {
	.nb_fixed-bg, #nb_slideshow_bg{
		height:1vh;
		background-attachment: fixed;
	}
}
@media all and (min-width: 1024px) and (max-width: 1219px) {.nb_fixed-bg{}}
@media all and (min-width: 1220px) {.nb_fixed-bg{}}

// Footer bg image
#footer-outer-wrapper {
    background: $keplerst_DarkOrange url("/sites/keplerchallenge.co.nz/files/2018-02/footer-bg.png") no-repeat;
    min-height: 65vh;
    background-position: 50% bottom;
    background-size: cover;
}
/*@media all and (min-width: 0px) {#footer-outer-wrapper{}}
@media all and (min-width: 480px) and (max-width: 767px) {#footer-outer-wrapper{}}
@media all and (min-width: 768px)  {
	#footer-outer-wrapper {
		height:1vh;
		background-attachment: fixed;
	}
}*/

/* Sandpit extension */
#nb_bg_video{
   /* position: fixed;*/
    background-image: url(/sites/keplerchallenge.co.nz/files/video/poster_lg.jpg);
    min-height: 85vh;
    height: 1vh;
    position: relative;
    overflow: hidden;
    background-position: center center;
    background-repeat: no-repeat;
    -webkit-background-size: cover;
    -moz-background-size: cover;
    background-size: cover;
}

#nb_bg_video .nb_background-video {
    position: absolute;
    min-width: 100%;
    min-height: 100%;
    position: absolute;
    width: auto;
    height: auto;
    top: 50%;
    left: 50%;
    -o-object-fit: contain;
    object-fit: contain;
    -webkit-transform: translate(-50%,-50%);
    -moz-transform: translate(-50%,-50%);
    -ms-transform: translate(-50%,-50%);
    -o-transform: translate(-50%,-50%);
    transform: translate(-50%,-50%);

}
/*End of sandpit extension */



// Hamburger-Menu -example css . Edit as necessary.
.responsive-menu-toggle-icon::before, .responsive-menu-toggle-icon::after, .responsive-menu-toggle-icon span.icon {
	background: #c00;
	//content: '';
	//display: block;
	//width: 20px;
	//height: 3px;
	//position: absolute;
	//top: 0;
	//left: 13px;
	//border-radius: 2px;
}

footer.node__meta {float:right;}
// h2 {float:left;} tmd removed - old styling from KTRK?
.node__content{clear:both}

/*This Section from pealing.com but left in for reference as may be useful*/
//Pop-up Login Block
/*.ui-widget-content {font-family:$defaultBodyFont; color: $primaryColor2;}
#ui-id-1 {font-family: $defaultHeaderFont; color: $primaryColor1;}
#ui-id-1::before {content: "pealing.com ";}
.ui-widget input {width: 280px; color: $primaryColor1;}
.ui-dialog .ui-dialog-buttonpane button {width: 100%; margin: 0;font-family: $defaultHeaderFont; color: $primaryColor1;}
.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset {margin: 0; padding: 0; width: 100%;}*/
// End Pop-up Login Block

// User Account Menu
.menu--account {display: none;}
.user-logged-in .menu--account {display: inline-block;float:right;}
.user-logged-in .menu--account li.menu-item {display: list-item !important;}
// End User Account Menu


// Header - split into two for branding and user menu
@media all and (max-width: 959px) {
    #block-keplerst-branding {@include parrotCols(9, 12, normal, '100');float:left;}
    #block-loginformpopup {@include parrotCols(3, 12, normal, '100');float:right;}
}
@media all and (min-width: 960px) and (max-width: 1279px) {
    #block-keplerst-branding {@include parrotCols(10, 12, normal, '960');float:left;}
    #block-loginformpopup {@include parrotCols(2, 12, normal, '960');float:right;}
}
@media all and (min-width: 1280px) {
    #block-keplerst-branding {@include parrotCols(10, 12, normal, '1200');float:left;}
    #block-loginformpopup {@include parrotCols(2, 12, normal, '1200');float:right;}
}

// Postscript 1 and 2 evenly split across page down to mobile sizes
@media all and (max-width: 480px) {
    .region--postscript-first {@include parrotCols(12, 12, normal, '100');float:left;}
    .region--postscript-second {@include parrotCols(12, 12, normal, '100');float:right;}
}
@media all and (min-width: 481px) and (max-width: 959px) {
    .region--postscript-first {@include parrotCols(6, 12, normal, '100');float:left;}
    .region--postscript-second {@include parrotCols(6, 12, normal, '100');float:right;}
}
@media all and (min-width: 960px) and (max-width: 1279px) {
    .region--postscript-first {@include parrotCols(6, 12, normal, '960');float:left;}
    .region--postscript-second {@include parrotCols(6, 12, normal, '960');float:right;}
}
@media all and (min-width: 1280px) {
    .region--postscript-first {@include parrotCols(6, 12, normal, '1200');float:left;}
    .region--postscript-second {@include parrotCols(6, 12, normal, '1200');float:right;}
}

////////////////////////////////////////////////////////////////////////////////
//
//   Specific layout and styling
//
////////////////////////////////////////////////////////////////////////////////

// FOOTER >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

.tmd-footer-menu-container {display: flex;flex-wrap: wrap;justify-content: space-between;}
.tmd-footer-menu {
    width: 23.5%;
    min-width: 136px;
    margin-bottom: 5rem;
}
@media all and (min-width: 960px) {
    .tmd-footer-menu-container {display: grid;  grid-template-columns: 23.5% 23.5% 23.5% 23.5%;  grid-gap: 2%; }
    .tmd-footer-menu {margin-left: 0;margin-right: 0;width: 100%; }
}


//  Typography
.region--footer h2 {
  @include keplerst_baloo(white, 1.2em);
	letter-spacing: 0.05em;
	float: none;
}
.region--footer p {
  @include keplerst_ubuntu-light($keplerst_Tan1,1.1em);
  margin: 0 0 0.7em;
  line-height: 1.2;
}
.region--footer p a {
  color: rgba($keplerst_Tan1, 1);
  @include keplerstTransition(opacity, 0.25s, ease-in-out);
  border-bottom:none !important;
  &:hover {
    color: rgba($keplerst_Tan1, 0.85);
  }
}



// COPYRIGHT >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
.region--copyright {padding: 20px 0;}
.region--copyright #copyright {
  float:left; @include keplerst_ubuntu-light($keplerst_GreyText,20px); margin: 10px 0 20px;
}
.region--copyright #footer-logo {float:right;width:220px;}
@media all and (max-width: 600px){
  .region--copyright #footer-logo {float:none;}
}
#copyright-outer-wrapper {border-bottom: 1px solid $keplerst-Grey;}


// FRONT PAGE OVERRIDES >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
